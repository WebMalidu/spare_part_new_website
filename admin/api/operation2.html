<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON POST Request</title>
</head>
<body>
    <h1>JSON POST Request</h1>
    <script>
        
  const requestDataObject = {
    "parts_id": 1,
    "start_date":"2023-2-20",
    "end_date":"2078-2-4",
    "discount":"6",
    "promotionId":45

   
    
  }

  function formatTimeForMySQL(time) {
    const [hours, minutes] = time.split(":");
    return `${hours}:${minutes}:00`;
  }

  // store data in a form
  let form = new FormData();
  form.append("promotionEdit", JSON.stringify(requestDataObject));

  // send the data to server
  let request = new XMLHttpRequest();
  request.onreadystatechange = function () {
    if (request.readyState == 4) {
      // preform an action on response
      let response = JSON.parse(request.responseText);
      if (response.status == "success") {
        alert(response.status);
        todoListLoader();
      } else {
        console.log(response.error);
      }
      console.log(request.responseText);
    }
  };
  request.open("POST", "/admin/api/PromotionLoad.php", true);
  request.send();


    </script>
</body>
</html>